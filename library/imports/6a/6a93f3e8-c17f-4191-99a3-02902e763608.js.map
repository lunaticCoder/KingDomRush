{"version":3,"sources":["assets/scripts/selecttLevelScene/skillsBoard.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,oEAAyE;AAEzE,+CAA0C;AAEpC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAyC,+BAAY;IAArD;QAAA,qEA0DC;QAvDW,aAAO,GAAa,IAAI,CAAC;QAMzB,uBAAiB,GAAmB,EAAE,CAAC;QAEvC,UAAI,GAAS,IAAI,CAAC;QAClB,sBAAgB,GAAqB,IAAI,CAAC;QAC1C,eAAS,GAAiB,IAAI,CAAC;;QA4CvC,iBAAiB;IACrB,CAAC;IA5CG,4BAAM,GAAN;QACI,IAAI,CAAC,IAAI,GAAG,yBAAe,CAAC,cAAc,EAAE,CAAC;QAC7C,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,kBAAkB,CAAC,CAAC;QAC3E,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;IAC1D,CAAC;IAED,2BAAK,GAAL;QACI,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,eAAe,EAAE,CAAC;IAC3B,CAAC;IAED;;OAEG;IACH,mCAAa,GAAb;QACI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAE,CAAC,QAAQ,EAAE,CAAC;IACvE,CAAC;IAED,oCAAc,GAAd;QACI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;IACzC,CAAC;IAED;;OAEG;IACH,qCAAe,GAAf;QACI,IAAI,CAAe,CAAC;QACpB,KAAU,UAAsB,EAAtB,KAAA,IAAI,CAAC,iBAAiB,EAAtB,cAAsB,EAAtB,IAAsB;YAA3B,CAAC,SAAA;YACF,CAAC,CAAC,gBAAgB,EAAE,CAAC;SAAA;IAC7B,CAAC;IAED;;OAEG;IACH,iCAAW,GAAX;QACI,MAAM;QACN,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;QACvB,UAAU;QACV,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,EAAE,CAAC;QACzC,OAAO;QACP,IAAI,CAAC,eAAe,EAAE,CAAC;IAC3B,CAAC;IArDD;QADC,QAAQ,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,KAAK,EAAE,CAAC;gDACI;IAMjC;QAJC,QAAQ,CAAC;YACN,IAAI,EAAE,sBAAY;YAClB,OAAO,EAAE,MAAM;SAClB,CAAC;0DAC6C;IAT9B,WAAW;QAD/B,OAAO;OACa,WAAW,CA0D/B;IAAD,kBAAC;CA1DD,AA0DC,CA1DwC,EAAE,CAAC,SAAS,GA0DpD;kBA1DoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["import GameDataStorage, { User } from \"../common/module/gameDataManager\";\nimport SelectLevelScene from \"./selectLevelScene\";\nimport AseriesSkill from \"./aSeriesSkill\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class SkillsBoard extends cc.Component {\n\n    @property({ type: cc.Label })\n    private starNum: cc.Label = null;\n\n    @property({\n        type: AseriesSkill,\n        tooltip: \"5个技能\"\n    })\n    private aSeriesSkillArray: AseriesSkill[] = [];\n\n    private user: User = null;\n    private selectLevelScene: SelectLevelScene = null;\n    private animation: cc.Animation = null;\n    onLoad() {\n        this.user = GameDataStorage.getCurrentUser();\n        this.selectLevelScene = cc.find(\"Canvas\").getComponent(\"selectLevelScene\");\n        this.animation = this.node.getComponent(cc.Animation);\n    }\n\n    start() {\n        this.updateStarNum();\n        this.updateAllSkills();\n    }\n\n    /**\n     * 更新技能板上显示的星星数\n     */\n    updateStarNum() {\n        this.starNum.string = this.user.getCurrentHaveStarNum().toString();\n    }\n\n    skillBoardBack() {\n        this.animation.play(\"skillsBoardUp\");\n    }\n\n    /**\n     * 更新所有技能树的显示\n     */\n    updateAllSkills() {\n        let i: AseriesSkill;\n        for (i of this.aSeriesSkillArray)\n            i.updateSkillIcons();\n    }\n\n    /**\n     * 重置技能\n     */\n    resetSkills() {\n        //更新数据\n        this.user.resetSkill();\n        //更新显示的星星数\n        this.updateStarNum();\n        this.selectLevelScene.updateScoreLabel();\n        //更新技能树\n        this.updateAllSkills();\n    }\n    // update (dt) {}\n}\n"]}